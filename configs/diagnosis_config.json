{
  "schema_version": "2.0.0",
  "project": "ai-neo",
  "language": "ru",
  "diagnosis": {
    "mode": "llm_adaptive_interview",
    "max_turns": 20,
    "target_duration_minutes": 25,
    "intake_questions": 2,
    "stop_rules": {
      "hard_stop_turn": 20,
      "soft_stop_if_confident_after_turn": 12,
      "min_turns_before_stop": 8
    }
  },
  "llm": {
    "provider": "openai",
    "model": "gpt-4.1-mini",
    "temperature": 0.5,
    "max_output_tokens": 450,
    "retry": {
      "max_retries": 3,
      "base_sleep_seconds": 1.2,
      "max_sleep_seconds": 8.0
    }
  },
  "retrieval": {
    "enabled": true,
    "knowledge_dir": "knowledge",
    "files": [
      "positions_potentials.md",
      "shifts.md",
      "methodology.md",
      "question_bank.md",
      "examples_transcripts.md"
    ],
    "chunking": {
      "max_chars_per_chunk": 1800,
      "overlap_chars": 120
    },
    "top_k": 4,
    "max_context_chars_total": 5200,
    "query_from": "last_answer_plus_running_hypothesis"
  },
  "interview_style": {
    "tone": "живой_разбор_как_мастер",
    "no_repeats": true,
    "ask_followups_on_specific_details": true,
    "prefer_multiple_choice_when_possible": true,
    "max_options": 6,
    "options_must_sound_like_real_people": true,
    "include_other_option": true
  },
  "potentials": [
    "Янтарь",
    "Шунгит",
    "Цитрин",
    "Изумруд",
    "Рубин",
    "Гранат",
    "Сапфир",
    "Гелиодор",
    "Аметист"
  ],
  "shifts": {
    "enabled": true,
    "max_shift_turns": 2,
    "ask_when": [
      "contradiction_detected",
      "socially_desirable_profile",
      "high_anxiety_or_should_language"
    ]
  },
  "output": {
    "client_preview": {
      "enabled": true,
      "include": [
        "имя",
        "запрос",
        "гипотеза_топ3_потенциала",
        "что_вас_наполняет",
        "что_забирает_энергию",
        "следующий_шаг_к_мастеру"
      ]
    },
    "debug_panel": {
      "enabled": true,
      "include": [
        "turn_log",
        "retrieval_chunks_titles",
        "raw_llm_json",
        "hypothesis_state"
      ]
    }
  }
}